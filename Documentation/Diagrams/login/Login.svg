<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="7908px" preserveAspectRatio="none" style="width:2146px;height:7908px;background:#FEFEFE;" version="1.1" viewBox="0 0 2146 7908" width="2146px" zoomAndPan="magnify"><defs><filter height="300%" id="fv8zfhtl9yvrr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="7893.1816" style="stroke: #FFFFFF; stroke-width: 1.0;" width="109" x="602" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="631.5" y="16.5684">Ingress</text><rect fill="#DDDDDD" height="7893.1816" style="stroke: #FFFFFF; stroke-width: 1.0;" width="146" x="847.5" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93" x="874" y="16.5684">Authenticator</text><rect fill="#DDDDDD" height="7893.1816" style="stroke: #FFFFFF; stroke-width: 1.0;" width="286" x="1236.5" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="1352.5" y="16.5684">Browser</text><rect fill="#DDDDDD" height="7893.1816" style="stroke: #FFFFFF; stroke-width: 1.0;" width="437" x="1564.5" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="38" x="1764" y="16.5684">Users</text><rect fill="#FEFEFE" filter="url(#fv8zfhtl9yvrr)" height="1381.1855" style="stroke: #000000; stroke-width: 2.0;" width="2085" x="13" y="3824.2051"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53" x2="53" y1="86.4883" y2="2877.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="53" x2="53" y1="2877.3438" y2="2918.2988"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53" x2="53" y1="2918.2988" y2="7810.6934"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656" x2="656" y1="86.4883" y2="2877.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="656" x2="656" y1="2877.3438" y2="2918.2988"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656" x2="656" y1="2918.2988" y2="7810.6934"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="920.5" x2="920.5" y1="86.4883" y2="2877.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="920.5" x2="920.5" y1="2877.3438" y2="2918.2988"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="920.5" x2="920.5" y1="2918.2988" y2="7810.6934"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1289.5" x2="1289.5" y1="86.4883" y2="2877.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1289.5" x2="1289.5" y1="2877.3438" y2="2918.2988"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1289.5" x2="1289.5" y1="2918.2988" y2="7810.6934"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1468.5" x2="1468.5" y1="86.4883" y2="2877.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1468.5" x2="1468.5" y1="2877.3438" y2="2918.2988"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1468.5" x2="1468.5" y1="2918.2988" y2="7810.6934"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1619.5" x2="1619.5" y1="86.4883" y2="2877.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1619.5" x2="1619.5" y1="2877.3438" y2="2918.2988"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1619.5" x2="1619.5" y1="2918.2988" y2="7810.6934"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1949.5" x2="1949.5" y1="86.4883" y2="2877.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1949.5" x2="1949.5" y1="2877.3438" y2="2918.2988"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1949.5" x2="1949.5" y1="2918.2988" y2="7810.6934"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2078.5" x2="2078.5" y1="86.4883" y2="2877.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="2078.5" x2="2078.5" y1="2877.3438" y2="2918.2988"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2078.5" x2="2078.5" y1="2918.2988" y2="7810.6934"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="23" y="83.5352">Browser</text><ellipse cx="53.5" cy="13" fill="#FEFECE" filter="url(#fv8zfhtl9yvrr)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M53.5,21 L53.5,48 M40.5,29 L66.5,29 M53.5,48 L40.5,63 M53.5,48 L66.5,63 " fill="none" filter="url(#fv8zfhtl9yvrr)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="23" y="7823.2285">Browser</text><ellipse cx="53.5" cy="7836.1816" fill="#FEFECE" filter="url(#fv8zfhtl9yvrr)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M53.5,7844.1816 L53.5,7871.1816 M40.5,7852.1816 L66.5,7852.1816 M53.5,7871.1816 L40.5,7886.1816 M53.5,7871.1816 L66.5,7886.1816 " fill="none" filter="url(#fv8zfhtl9yvrr)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fv8zfhtl9yvrr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="626" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="633" y="71.5352">NGINX</text><rect fill="#FEFECE" filter="url(#fv8zfhtl9yvrr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="626" y="7809.6934"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="633" y="7830.2285">NGINX</text><rect fill="#FEFECE" filter="url(#fv8zfhtl9yvrr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="871.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="878.5" y="71.5352">Oathkeeper</text><rect fill="#FEFECE" filter="url(#fv8zfhtl9yvrr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="871.5" y="7809.6934"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="878.5" y="7830.2285">Oathkeeper</text><rect fill="#FEFECE" filter="url(#fv8zfhtl9yvrr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="1260.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="1267.5" y="71.5352">Hydra</text><rect fill="#FEFECE" filter="url(#fv8zfhtl9yvrr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="1260.5" y="7809.6934"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="1267.5" y="7830.2285">Hydra</text><rect fill="#FEFECE" filter="url(#fv8zfhtl9yvrr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="1438.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="1445.5" y="71.5352">Pascal</text><rect fill="#FEFECE" filter="url(#fv8zfhtl9yvrr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="1438.5" y="7809.6934"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="1445.5" y="7830.2285">Pascal</text><rect fill="#FEFECE" filter="url(#fv8zfhtl9yvrr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="1588.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="1595.5" y="71.5352">Kratos</text><rect fill="#FEFECE" filter="url(#fv8zfhtl9yvrr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="1588.5" y="7809.6934"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="1595.5" y="7830.2285">Kratos</text><rect fill="#FEFECE" filter="url(#fv8zfhtl9yvrr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="52" x="1921.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="1928.5" y="71.5352">Login</text><rect fill="#FEFECE" filter="url(#fv8zfhtl9yvrr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="52" x="1921.5" y="7809.6934"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="1928.5" y="7830.2285">Login</text><rect fill="#FEFECE" filter="url(#fv8zfhtl9yvrr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="2047.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="2054.5" y="71.5352">Studio</text><rect fill="#FEFECE" filter="url(#fv8zfhtl9yvrr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="2047.5" y="7809.6934"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="2054.5" y="7830.2285">Studio</text><rect fill="#EEEEEE" filter="url(#fv8zfhtl9yvrr)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="2131.5" x="3" y="117.1436"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="2134.5" y1="117.1436" y2="117.1436"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="2134.5" y1="120.1436" y2="120.1436"/><rect fill="#EEEEEE" filter="url(#fv8zfhtl9yvrr)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="178" x="979.75" y="106.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="160" x="985.75" y="123.0566">User navigates to /path</text><polygon fill="#A80036" points="644.5,157.1094,654.5,161.1094,644.5,165.1094,648.5,161.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="161.1094" y2="161.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="156.3672">[001]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="101.5" y="156.3672">GET /path</text><polygon fill="#A80036" points="908.5,186.4199,918.5,190.4199,908.5,194.4199,912.5,190.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="914.5" y1="190.4199" y2="190.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="185.6777">[002]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="704.5" y="185.6777">GET :80/decisions</text><polygon fill="#A80036" points="1277.5,215.7305,1287.5,219.7305,1277.5,223.7305,1281.5,219.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="920.5" x2="1283.5" y1="219.7305" y2="219.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="927.5" y="214.9883">[003]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="968.5" y="214.9883">POST :4445/oauth2/introspect</text><polygon fill="#A80036" points="931.5,245.041,921.5,249.041,931.5,253.041,927.5,249.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="925.5" x2="1288.5" y1="249.041" y2="249.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="937.5" y="244.2988">[004]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="978.5" y="244.2988">Status 401</text><polygon fill="#A80036" points="667.5,274.3516,657.5,278.3516,667.5,282.3516,663.5,278.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="919.5" y1="278.3516" y2="278.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="273.6094">[005]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="273.6094">Status 401</text><polygon fill="#A80036" points="64.5,334.2832,54.5,338.2832,64.5,342.2832,60.5,338.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="338.2832" y2="338.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="318.2305">[006]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="302.9199">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="111.5" y="318.2305">Location: /.auth/cookies/initiate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="111.5" y="333.541">Query: rd="/path"</text><polygon fill="#A80036" points="644.5,378.9043,654.5,382.9043,644.5,386.9043,648.5,382.9043" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="382.9043" y2="382.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="370.5068">[007]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="101.5" y="362.8516">GET /.auth/cookies/initiate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="101.5" y="378.1621">Query: rd="/path"</text><polygon fill="#A80036" points="1456.5,423.5254,1466.5,427.5254,1456.5,431.5254,1460.5,427.5254" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="1462.5" y1="427.5254" y2="427.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="415.1279">[008]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="704.5" y="407.4727">GET :8080/initiate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="704.5" y="422.7832">Query: rd="/path"</text><polygon fill="#A80036" points="667.5,560.0098,657.5,564.0098,667.5,568.0098,663.5,564.0098" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="1467.5" y1="564.0098" y2="564.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="505.6807">[009]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="452.0938">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="714.5" y="467.4043">Location: /.auth/oauth2/auth</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="291" x="714.5" y="482.7148">Query: redirect_uri="/.auth/cookies/callback"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="714.5" y="498.0254">Query: client_id="studio-browser"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="714.5" y="513.3359">Query: response_type="code"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="714.5" y="528.6465">Query: scope="openid"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="714.5" y="543.957">Query: state="AAA"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="224" x="714.5" y="559.2676">Set-Cookie: .dolittle.pascal.session</text><polygon fill="#A80036" points="64.5,696.4941,54.5,700.4941,64.5,704.4941,60.5,700.4941" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="700.4941" y2="700.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="642.165">[010]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="588.5781">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="111.5" y="603.8887">Location: /.auth/oauth2/auth</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="291" x="111.5" y="619.1992">Query: redirect_uri="/.auth/cookies/callback"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="111.5" y="634.5098">Query: client_id="studio-browser"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="111.5" y="649.8203">Query: response_type="code"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="111.5" y="665.1309">Query: scope="openid"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="111.5" y="680.4414">Query: state="AAA"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="224" x="111.5" y="695.752">Set-Cookie: .dolittle.pascal.session</text><polygon fill="#A80036" points="644.5,817.668,654.5,821.668,644.5,825.668,648.5,821.668" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="821.668" y2="821.668"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="770.9941">[011]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="101.5" y="725.0625">GET /.auth/oauth2/auth</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="291" x="101.5" y="740.373">Query: redirect_uri="/.auth/cookies/callback"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="101.5" y="755.6836">Query: client_id="studio-browser"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="101.5" y="770.9941">Query: response_type="code"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="101.5" y="786.3047">Query: scope="openid"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="101.5" y="801.6152">Query: state="AAA"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="101.5" y="816.9258">Cookie: .dolittle.pascal.session</text><polygon fill="#A80036" points="1277.5,938.8418,1287.5,942.8418,1277.5,946.8418,1281.5,942.8418" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="1283.5" y1="942.8418" y2="942.8418"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="892.168">[012]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="704.5" y="846.2363">GET :4444/oauth2/auth</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="291" x="704.5" y="861.5469">Query: redirect_uri="/.auth/cookies/callback"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="704.5" y="876.8574">Query: client_id="studio-browser"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="704.5" y="892.168">Query: response_type="code"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="704.5" y="907.4785">Query: scope="openid"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="704.5" y="922.7891">Query: state="AAA"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="704.5" y="938.0996">Cookie: .dolittle.pascal.session</text><polygon fill="#A80036" points="667.5,1014.084,657.5,1018.084,667.5,1022.084,663.5,1018.084" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="1288.5" y1="1018.084" y2="1018.084"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="990.376">[013]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="967.4102">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="283" x="714.5" y="982.7207">Location /.auth/self-service/tenant/browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="714.5" y="998.0313">Query: login_challenge="BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="312" x="714.5" y="1013.3418">Set-Cookie: oauth2_authentication_csrf_insecure</text><polygon fill="#A80036" points="64.5,1089.3262,54.5,1093.3262,64.5,1097.3262,60.5,1093.3262" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="1093.3262" y2="1093.3262"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="1065.6182">[014]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="1042.6523">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="283" x="111.5" y="1057.9629">Location /.auth/self-service/tenant/browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="111.5" y="1073.2734">Query: login_challenge="BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="312" x="111.5" y="1088.584">Set-Cookie: oauth2_authentication_csrf_insecure</text><polygon fill="#A80036" points="644.5,1164.5684,654.5,1168.5684,644.5,1172.5684,648.5,1168.5684" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="1168.5684" y2="1168.5684"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="1140.8604">[015]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="253" x="101.5" y="1117.8945">GET /.auth/self-service/tenant/browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="101.5" y="1133.2051">Query: login_challenge="BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="101.5" y="1148.5156">Cookie: .dolittle.pascal.session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="101.5" y="1163.8262">Cookie: oauth2_authentication_csrf_insecure</text><polygon fill="#A80036" points="1937.5,1239.8105,1947.5,1243.8105,1937.5,1247.8105,1941.5,1243.8105" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="1943.5" y1="1243.8105" y2="1243.8105"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="1216.1025">[016]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="289" x="704.5" y="1193.1367">GET :8080/.auth/self-service/tenant/browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="704.5" y="1208.4473">Query: login_challenge="BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="704.5" y="1223.7578">Cookie: .dolittle.pascal.session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="704.5" y="1239.0684">Cookie: oauth2_authentication_csrf_insecure</text><polygon fill="#A80036" points="1300.5,1284.4316,1290.5,1288.4316,1300.5,1292.4316,1296.5,1288.4316" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1948.5" y1="1288.4316" y2="1288.4316"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1306.5" y="1276.0342">[017]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="1347.5" y="1268.3789">GET :4445/oauth2/auth/requests/login</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="1347.5" y="1283.6895">Query: login_challenge="BBB"</text><polygon fill="#A80036" points="1937.5,1329.0527,1947.5,1333.0527,1937.5,1337.0527,1941.5,1333.0527" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1289.5" x2="1943.5" y1="1333.0527" y2="1333.0527"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1296.5" y="1320.6553">[018]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1337.5" y="1313">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="1337.5" y="1328.3105">{ login request }</text><polygon fill="#A80036" points="1630.5,1358.3633,1620.5,1362.3633,1630.5,1366.3633,1626.5,1362.3633" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1624.5" x2="1948.5" y1="1362.3633" y2="1362.3633"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1636.5" y="1357.6211">[019]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="1677.5" y="1357.6211">GET :4433/sessions/whoami</text><polygon fill="#A80036" points="1937.5,1387.6738,1947.5,1391.6738,1937.5,1395.6738,1941.5,1391.6738" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1619.5" x2="1943.5" y1="1391.6738" y2="1391.6738"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1626.5" y="1386.9316">[020]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1667.5" y="1386.9316">Status 401</text><polygon fill="#A80036" points="667.5,1447.6055,657.5,1451.6055,667.5,1455.6055,663.5,1451.6055" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="1948.5" y1="1451.6055" y2="1451.6055"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="1431.5527">[021]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="1416.2422">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="279" x="714.5" y="1431.5527">Location: /.auth/self-service/login/browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="483" x="714.5" y="1446.8633">Query: return_to="/.auth/self-service/tenant/browser?login_challenge=BBB"</text><polygon fill="#A80036" points="64.5,1507.5371,54.5,1511.5371,64.5,1515.5371,60.5,1511.5371" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="1511.5371" y2="1511.5371"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="1491.4844">[022]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="1476.1738">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="279" x="111.5" y="1491.4844">Location: /.auth/self-service/login/browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="483" x="111.5" y="1506.7949">Query: return_to="/.auth/self-service/tenant/browser?login_challenge=BBB"</text><polygon fill="#A80036" points="644.5,1582.7793,654.5,1586.7793,644.5,1590.7793,648.5,1586.7793" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="1586.7793" y2="1586.7793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="1559.0713">[023]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="101.5" y="1536.1055">GET /.auth/self-service/login/browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="483" x="101.5" y="1551.416">Query: return_to="/.auth/self-service/tenant/browser?login_challenge=BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="101.5" y="1566.7266">Cookie: .dolittle.pascal.session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="101.5" y="1582.0371">Cookie: oauth2_authentication_csrf_insecure</text><polygon fill="#A80036" points="1607.5,1658.0215,1617.5,1662.0215,1607.5,1666.0215,1611.5,1662.0215" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="1613.5" y1="1662.0215" y2="1662.0215"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="1634.3135">[024]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="242" x="704.5" y="1611.3477">GET :4433/self-service/login/browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="483" x="704.5" y="1626.6582">Query: return_to="/.auth/self-service/tenant/browser?login_challenge=BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="704.5" y="1641.9688">Cookie: .dolittle.pascal.session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="704.5" y="1657.2793">Cookie: oauth2_authentication_csrf_insecure</text><polygon fill="#A80036" points="667.5,1733.2637,657.5,1737.2637,667.5,1741.2637,663.5,1737.2637" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="1618.5" y1="1737.2637" y2="1737.2637"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="1709.5557">[025]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="1686.5898">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="714.5" y="1701.9004">Location: /.auth/select-provider</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="714.5" y="1717.2109">Query: flow="CCC"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="714.5" y="1732.5215">Set-Cookie: csrf_token</text><polygon fill="#A80036" points="64.5,1808.5059,54.5,1812.5059,64.5,1816.5059,60.5,1812.5059" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="1812.5059" y2="1812.5059"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="1784.7979">[026]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="1761.832">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="111.5" y="1777.1426">Location: /.auth/select-provider</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="111.5" y="1792.4531">Query: flow="CCC"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="111.5" y="1807.7637">Set-Cookie: csrf_token</text><polygon fill="#A80036" points="644.5,1899.0586,654.5,1903.0586,644.5,1907.0586,648.5,1903.0586" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="1903.0586" y2="1903.0586"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="1867.6953">[027]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="101.5" y="1837.0742">GET /.auth/select-provider</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="101.5" y="1852.3848">Query: flow="CCC"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="101.5" y="1867.6953">Cookie: .dolittle.pascal.session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="101.5" y="1883.0059">Cookie: oauth2_authentication_csrf_insecure</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="101.5" y="1898.3164">Cookie: csrf_token</text><polygon fill="#A80036" points="1937.5,1989.6113,1947.5,1993.6113,1937.5,1997.6113,1941.5,1993.6113" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="1943.5" y1="1993.6113" y2="1993.6113"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="1958.248">[028]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="704.5" y="1927.627">GET :8080/.auth/select-provider</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="704.5" y="1942.9375">Query: flow="CCC"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="704.5" y="1958.248">Cookie: .dolittle.pascal.session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="704.5" y="1973.5586">Cookie: oauth2_authentication_csrf_insecure</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="704.5" y="1988.8691">Cookie: csrf_token</text><polygon fill="#A80036" points="667.5,2034.2324,657.5,2038.2324,667.5,2042.2324,663.5,2038.2324" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="1948.5" y1="2038.2324" y2="2038.2324"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="2025.835">[029]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="2018.1797">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="714.5" y="2033.4902">&lt;html&gt;Login Frontend&lt;/html&gt;</text><polygon fill="#A80036" points="64.5,2078.8535,54.5,2082.8535,64.5,2086.8535,60.5,2082.8535" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="2082.8535" y2="2082.8535"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="2070.4561">[030]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="2062.8008">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="111.5" y="2078.1113">&lt;html&gt;Login Frontend&lt;/html&gt;</text><rect fill="#EEEEEE" filter="url(#fv8zfhtl9yvrr)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="2131.5" x="3" y="2111.5088"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="2134.5" y1="2111.5088" y2="2111.5088"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="2134.5" y1="2114.5088" y2="2114.5088"/><rect fill="#EEEEEE" filter="url(#fv8zfhtl9yvrr)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="291" x="923.25" y="2100.8535"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="273" x="929.25" y="2117.4219">Select Identity Provider view is rendered</text><polygon fill="#A80036" points="644.5,2212.7168,654.5,2216.7168,644.5,2220.7168,648.5,2216.7168" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="2216.7168" y2="2216.7168"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="2181.3535">[031]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="101.5" y="2150.7324">GET /.auth/self-service/login/flows</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="101.5" y="2166.043">Query: id="CCC"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="101.5" y="2181.3535">Cookie: .dolittle.pascal.session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="101.5" y="2196.6641">Cookie: oauth2_authentication_csrf_insecure</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="101.5" y="2211.9746">Cookie: csrf_token</text><polygon fill="#A80036" points="1937.5,2303.2695,1947.5,2307.2695,1937.5,2311.2695,1941.5,2307.2695" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="1943.5" y1="2307.2695" y2="2307.2695"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="2271.9063">[032]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="704.5" y="2241.2852">GET :8080/.auth/self-service/login/flows</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="704.5" y="2256.5957">Query: id="CCC"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="704.5" y="2271.9063">Cookie: .dolittle.pascal.session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="704.5" y="2287.2168">Cookie: oauth2_authentication_csrf_insecure</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="704.5" y="2302.5273">Cookie: csrf_token</text><polygon fill="#A80036" points="1630.5,2347.8906,1620.5,2351.8906,1630.5,2355.8906,1626.5,2351.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1624.5" x2="1948.5" y1="2351.8906" y2="2351.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1636.5" y="2339.4932">[033]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="1677.5" y="2331.8379">GET :4433/.auth/self-service/login/flows</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="1677.5" y="2347.1484">Query: id="CCC"</text><polygon fill="#A80036" points="1937.5,2392.5117,1947.5,2396.5117,1937.5,2400.5117,1941.5,2396.5117" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1619.5" x2="1943.5" y1="2396.5117" y2="2396.5117"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1626.5" y="2384.1143">[034]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1667.5" y="2376.459">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="1671.5" y="2391.7695">{ login flow }</text><path d="M1837,2409.5117 L1837,2434.5117 L2058,2434.5117 L2058,2419.5117 L2048,2409.5117 L1837,2409.5117 " fill="#FBFB77" filter="url(#fv8zfhtl9yvrr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2048,2409.5117 L2048,2419.5117 L2058,2419.5117 L2048,2409.5117 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="1843" y="2427.0801">Adds Name+Image to providers</text><polygon fill="#A80036" points="667.5,2476.4434,657.5,2480.4434,667.5,2484.4434,663.5,2480.4434" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="1948.5" y1="2480.4434" y2="2480.4434"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="2468.0459">[035]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="2460.3906">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="718.5" y="2475.7012">{ extended login flow }</text><polygon fill="#A80036" points="64.5,2521.0645,54.5,2525.0645,64.5,2529.0645,60.5,2525.0645" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="2525.0645" y2="2525.0645"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="2512.667">[036]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="2505.0117">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="115.5" y="2520.3223">{ extended login flow }</text><rect fill="#EEEEEE" filter="url(#fv8zfhtl9yvrr)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="2131.5" x="3" y="2553.7197"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="2134.5" y1="2553.7197" y2="2553.7197"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="2134.5" y1="2556.7197" y2="2556.7197"/><rect fill="#EEEEEE" filter="url(#fv8zfhtl9yvrr)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="310" x="913.75" y="2543.0645"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="292" x="919.75" y="2559.6328">User clicks an Identity Provider (PROVIDER)</text><polygon fill="#A80036" points="644.5,2670.2383,654.5,2674.2383,644.5,2678.2383,648.5,2674.2383" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="2674.2383" y2="2674.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="2631.2197">[037]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="322" x="101.5" y="2592.9434">POST /.auth/self-service/methods/oidc/auth/CCC</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="101.5" y="2608.2539">Form-Data: csrf_token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="101.5" y="2623.5645">Form-Data: provider="PROVIDER"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="101.5" y="2638.875">Cookie: .dolittle.pascal.session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="101.5" y="2654.1855">Cookie: oauth2_authentication_csrf_insecure</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="101.5" y="2669.4961">Cookie: csrf_token</text><polygon fill="#A80036" points="1607.5,2776.1016,1617.5,2780.1016,1607.5,2784.1016,1611.5,2780.1016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="1613.5" y1="2780.1016" y2="2780.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="2737.083">[038]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="319" x="704.5" y="2698.8066">POST :4433/self-service/methods/oidc/auth/CCC</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="704.5" y="2714.1172">Form-Data: csrf_token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="704.5" y="2729.4277">Form-Data: provider="PROVIDER"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="704.5" y="2744.7383">Cookie: .dolittle.pascal.session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="704.5" y="2760.0488">Cookie: oauth2_authentication_csrf_insecure</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="704.5" y="2775.3594">Cookie: csrf_token</text><polygon fill="#A80036" points="667.5,2820.7227,657.5,2824.7227,667.5,2828.7227,663.5,2824.7227" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="1618.5" y1="2824.7227" y2="2824.7227"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="2812.3252">[039]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="2804.6699">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="718.5" y="2819.9805">Location: PROVIDER_SPECIFIC_URL</text><polygon fill="#A80036" points="64.5,2865.3438,54.5,2869.3438,64.5,2873.3438,60.5,2869.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="2869.3438" y2="2869.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="2856.9463">[040]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="2849.291">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="115.5" y="2864.6016">Location: PROVIDER_SPECIFIC_URL</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="199" x="966.5" y="2901.9785">User performs Identity Provider login</text><polygon fill="#A80036" points="644.5,3027.4727,654.5,3031.4727,644.5,3035.4727,648.5,3031.4727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="3031.4727" y2="3031.4727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="2980.7988">[041]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="373" x="101.5" y="2934.8672">GET /.auth/self-service/methods/oidc/callback/PROVIDER</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="101.5" y="2950.1777">Query: code="DDD"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="101.5" y="2965.4883">Query: state="EEE"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="101.5" y="2980.7988">Query: session_state="FFF"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="101.5" y="2996.1094">Cookie: oauth2_authentication_csrf_insecure</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="101.5" y="3011.4199">Cookie: ory_kratos_continuity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="101.5" y="3026.7305">Cookie: csrf_token</text><polygon fill="#A80036" points="1607.5,3148.6465,1617.5,3152.6465,1607.5,3156.6465,1611.5,3152.6465" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="1613.5" y1="3152.6465" y2="3152.6465"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="3101.9727">[042]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="409" x="704.5" y="3056.041">GET :4433/.auth/self-service/methods/oidc/callback/PROVIDER</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="704.5" y="3071.3516">Query: code="DDD"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="704.5" y="3086.6621">Query: state="EEE"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="704.5" y="3101.9727">Query: session_state="FFF"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="704.5" y="3117.2832">Cookie: oauth2_authentication_csrf_insecure</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="704.5" y="3132.5938">Cookie: ory_kratos_continuity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="704.5" y="3147.9043">Cookie: csrf_token</text><path d="M1507,3165.6465 L1507,3205.6465 L1728,3205.6465 L1728,3175.6465 L1718,3165.6465 L1507,3165.6465 " fill="#FBFB77" filter="url(#fv8zfhtl9yvrr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1718,3165.6465 L1718,3175.6465 L1728,3175.6465 L1718,3165.6465 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="1513" y="3183.2148">Fetches identity from PROVIDER</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="1513" y="3198.5254">and creates user if first login</text><polygon fill="#A80036" points="667.5,3309.1309,657.5,3313.1309,667.5,3317.1309,663.5,3313.1309" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="1618.5" y1="3313.1309" y2="3313.1309"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="3270.1123">[043]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="3231.8359">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="287" x="714.5" y="3247.1465">Location: /.auth/self-service/tenant/browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="714.5" y="3262.457">Query: login_challenge="BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="714.5" y="3277.7676">Set-Cookie: ory_kratos_continuity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="714.5" y="3293.0781">Set-Cookie: ory_kratos_session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="714.5" y="3308.3887">Set-Cookie: csrf_token</text><polygon fill="#A80036" points="64.5,3414.9941,54.5,3418.9941,64.5,3422.9941,60.5,3418.9941" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="3418.9941" y2="3418.9941"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="3375.9756">[044]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="3337.6992">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="287" x="111.5" y="3353.0098">Location: /.auth/self-service/tenant/browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="111.5" y="3368.3203">Query: login_challenge="BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="111.5" y="3383.6309">Set-Cookie: ory_kratos_continuity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="111.5" y="3398.9414">Set-Cookie: ory_kratos_session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="111.5" y="3414.252">Set-Cookie: csrf_token</text><polygon fill="#A80036" points="644.5,3520.8574,654.5,3524.8574,644.5,3528.8574,648.5,3524.8574" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="3524.8574" y2="3524.8574"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="3481.8389">[045]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="253" x="101.5" y="3443.5625">GET /.auth/self-service/tenant/browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="101.5" y="3458.873">Query: login_challenge="BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="101.5" y="3474.1836">Cookie: oauth2_authentication_csrf_insecure</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="101.5" y="3489.4941">Cookie: ory_kratos_continuity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="101.5" y="3504.8047">Cookie: ory_kratos_session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="101.5" y="3520.1152">Cookie: csrf_token</text><polygon fill="#A80036" points="1937.5,3626.7207,1947.5,3630.7207,1937.5,3634.7207,1941.5,3630.7207" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="1943.5" y1="3630.7207" y2="3630.7207"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="3587.7021">[046]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="289" x="704.5" y="3549.4258">GET :8080/.auth/self-service/tenant/browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="704.5" y="3564.7363">Query: login_challenge="BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="704.5" y="3580.0469">Cookie: oauth2_authentication_csrf_insecure</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="704.5" y="3595.3574">Cookie: ory_kratos_continuity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="704.5" y="3610.668">Cookie: ory_kratos_session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="704.5" y="3625.9785">Cookie: csrf_token</text><polygon fill="#A80036" points="1300.5,3671.3418,1290.5,3675.3418,1300.5,3679.3418,1296.5,3675.3418" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1948.5" y1="3675.3418" y2="3675.3418"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1306.5" y="3662.9443">[047]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="1347.5" y="3655.2891">GET :4445/oauth2/auth/requests/login</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="1347.5" y="3670.5996">Query: login_challenge="BBB"</text><polygon fill="#A80036" points="1937.5,3715.9629,1947.5,3719.9629,1937.5,3723.9629,1941.5,3719.9629" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1289.5" x2="1943.5" y1="3719.9629" y2="3719.9629"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1296.5" y="3707.5654">[048]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1337.5" y="3699.9102">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="1337.5" y="3715.2207">{ login request }</text><polygon fill="#A80036" points="1630.5,3760.584,1620.5,3764.584,1630.5,3768.584,1626.5,3764.584" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1624.5" x2="1948.5" y1="3764.584" y2="3764.584"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1636.5" y="3752.1865">[049]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="1677.5" y="3744.5313">GET :4433/sessions/whoami</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="1677.5" y="3759.8418">Cookie: ory_kratos_session</text><polygon fill="#A80036" points="1937.5,3805.2051,1947.5,3809.2051,1937.5,3813.2051,1941.5,3809.2051" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1619.5" x2="1943.5" y1="3809.2051" y2="3809.2051"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1626.5" y="3796.8076">[050]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1667.5" y="3789.1523">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="1667.5" y="3804.4629">{ user identity }</text><path d="M13,3824.2051 L75,3824.2051 L75,3831.2051 L65,3841.2051 L13,3841.2051 L13,3824.2051 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1381.1855" style="stroke: #000000; stroke-width: 2.0;" width="2085" x="13" y="3824.2051"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="28" y="3837.7734">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="90" y="3836.8398">[If more than 1 tenant]</text><polygon fill="#A80036" points="667.5,3889.4473,657.5,3893.4473,667.5,3897.4473,663.5,3893.4473" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="1948.5" y1="3893.4473" y2="3893.4473"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="3873.3945">[051]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="3858.084">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="714.5" y="3873.3945">Location /.auth/select-tenant</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="714.5" y="3888.7051">Query: login_challenge="BBB"</text><polygon fill="#A80036" points="64.5,3949.3789,54.5,3953.3789,64.5,3957.3789,60.5,3953.3789" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="3953.3789" y2="3953.3789"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="3933.3262">[052]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="3918.0156">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="111.5" y="3933.3262">Location /.auth/select-tenant</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="111.5" y="3948.6367">Query: login_challenge="BBB"</text><polygon fill="#A80036" points="644.5,4055.2422,654.5,4059.2422,644.5,4063.2422,648.5,4059.2422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="4059.2422" y2="4059.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="4016.2236">[053]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="101.5" y="3977.9473">GET /.auth/select-tenant</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="101.5" y="3993.2578">Query: login_challenge="BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="101.5" y="4008.5684">Cookie: oauth2_authentication_csrf_insecure</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="101.5" y="4023.8789">Cookie: ory_kratos_continuity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="101.5" y="4039.1895">Cookie: ory_kratos_session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="101.5" y="4054.5">Cookie: csrf_token</text><polygon fill="#A80036" points="1937.5,4161.1055,1947.5,4165.1055,1937.5,4169.1055,1941.5,4165.1055" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="1943.5" y1="4165.1055" y2="4165.1055"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="4122.0869">[054]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="704.5" y="4083.8105">GET :8080/.auth/select-tenant</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="704.5" y="4099.1211">Query: login_challenge="BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="704.5" y="4114.4316">Cookie: oauth2_authentication_csrf_insecure</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="704.5" y="4129.7422">Cookie: ory_kratos_continuity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="704.5" y="4145.0527">Cookie: ory_kratos_session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="704.5" y="4160.3633">Cookie: csrf_token</text><polygon fill="#A80036" points="667.5,4205.7266,657.5,4209.7266,667.5,4213.7266,663.5,4209.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="1948.5" y1="4209.7266" y2="4209.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="4197.3291">[055]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="4189.6738">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="714.5" y="4204.9844">&lt;html&gt;Login Frontend&lt;/html&gt;</text><polygon fill="#A80036" points="64.5,4250.3477,54.5,4254.3477,64.5,4258.3477,60.5,4254.3477" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="4254.3477" y2="4254.3477"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="4241.9502">[056]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="4234.2949">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="111.5" y="4249.6055">&lt;html&gt;Login Frontend&lt;/html&gt;</text><rect fill="#EEEEEE" filter="url(#fv8zfhtl9yvrr)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="2131.5" x="3" y="4283.0029"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="2134.5" y1="4283.0029" y2="4283.0029"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="2134.5" y1="4286.0029" y2="4286.0029"/><rect fill="#EEEEEE" filter="url(#fv8zfhtl9yvrr)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="226" x="955.75" y="4272.3477"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="208" x="961.75" y="4288.916">Select Tenant view is rendered</text><polygon fill="#A80036" points="644.5,4399.5215,654.5,4403.5215,644.5,4407.5215,648.5,4403.5215" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="4403.5215" y2="4403.5215"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="4360.5029">[057]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="237" x="101.5" y="4322.2266">GET /.auth/self-service/tenant/flows</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="101.5" y="4337.5371">Query: login_challenge="BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="101.5" y="4352.8477">Cookie: oauth2_authentication_csrf_insecure</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="101.5" y="4368.1582">Cookie: ory_kratos_continuity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="101.5" y="4383.4688">Cookie: ory_kratos_session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="101.5" y="4398.7793">Cookie: csrf_token</text><polygon fill="#A80036" points="1937.5,4505.3848,1947.5,4509.3848,1937.5,4513.3848,1941.5,4509.3848" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="1943.5" y1="4509.3848" y2="4509.3848"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="4466.3662">[058]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="704.5" y="4428.0898">GET :8080/.auth/self-service/tenant/flows</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="704.5" y="4443.4004">Query: login_challenge="BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="704.5" y="4458.7109">Cookie: oauth2_authentication_csrf_insecure</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="704.5" y="4474.0215">Cookie: ory_kratos_continuity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="704.5" y="4489.332">Cookie: ory_kratos_session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="704.5" y="4504.6426">Cookie: csrf_token</text><polygon fill="#A80036" points="1300.5,4550.0059,1290.5,4554.0059,1300.5,4558.0059,1296.5,4554.0059" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1948.5" y1="4554.0059" y2="4554.0059"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1306.5" y="4541.6084">[059]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="1347.5" y="4533.9531">GET :4445/oauth2/auth/requests/login</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="1347.5" y="4549.2637">Query: login_challenge="BBB"</text><polygon fill="#A80036" points="1937.5,4594.627,1947.5,4598.627,1937.5,4602.627,1941.5,4598.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1289.5" x2="1943.5" y1="4598.627" y2="4598.627"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1296.5" y="4586.2295">[060]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1337.5" y="4578.5742">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="1337.5" y="4593.8848">{ login request }</text><polygon fill="#A80036" points="1630.5,4639.248,1620.5,4643.248,1630.5,4647.248,1626.5,4643.248" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1624.5" x2="1948.5" y1="4643.248" y2="4643.248"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1636.5" y="4630.8506">[061]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="1677.5" y="4623.1953">GET :4433/sessions/whoami</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="1677.5" y="4638.5059">Cookie: ory_kratos_session</text><polygon fill="#A80036" points="1937.5,4683.8691,1947.5,4687.8691,1937.5,4691.8691,1941.5,4687.8691" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1619.5" x2="1943.5" y1="4687.8691" y2="4687.8691"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1626.5" y="4675.4717">[062]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1667.5" y="4667.8164">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="1667.5" y="4683.127">{ user identity }</text><path d="M1867,4700.8691 L1867,4725.8691 L2028,4725.8691 L2028,4710.8691 L2018,4700.8691 L1867,4700.8691 " fill="#FBFB77" filter="url(#fv8zfhtl9yvrr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2018,4700.8691 L2018,4710.8691 L2028,4710.8691 L2018,4700.8691 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1873" y="4718.4375">Adds Name to tenants</text><polygon fill="#A80036" points="667.5,4767.8008,657.5,4771.8008,667.5,4775.8008,663.5,4771.8008" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="1948.5" y1="4771.8008" y2="4771.8008"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="4759.4033">[063]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="4751.748">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="718.5" y="4767.0586">{ tenant flow }</text><polygon fill="#A80036" points="64.5,4812.4219,54.5,4816.4219,64.5,4820.4219,60.5,4816.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="4816.4219" y2="4816.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="4804.0244">[064]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="4796.3691">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="115.5" y="4811.6797">{ tenant flow }</text><rect fill="#EEEEEE" filter="url(#fv8zfhtl9yvrr)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="2131.5" x="3" y="4845.0771"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="2134.5" y1="4845.0771" y2="4845.0771"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="2134.5" y1="4848.0771" y2="4848.0771"/><rect fill="#EEEEEE" filter="url(#fv8zfhtl9yvrr)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="224" x="956.75" y="4834.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="206" x="962.75" y="4850.9902">User clicks a Tenant (TENANT)</text><polygon fill="#A80036" points="644.5,4915.6641,654.5,4919.6641,644.5,4923.6641,648.5,4919.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="4919.6641" y2="4919.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="4899.6113">[065]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="101.5" y="4884.3008">POST /.auth/self-service/tenant/select</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="101.5" y="4899.6113">Form-Data: login_challenge="BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="101.5" y="4914.9219">Form-Data: tenant="TENANT"</text><polygon fill="#A80036" points="1937.5,4975.5957,1947.5,4979.5957,1937.5,4983.5957,1941.5,4979.5957" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="1943.5" y1="4979.5957" y2="4979.5957"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="4959.543">[066]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="704.5" y="4944.2324">POST :8080/.auth/self-service/tenant/select</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="704.5" y="4959.543">Form-Data: login_challenge="BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="704.5" y="4974.8535">Form-Data: tenant="TENANT"</text><polygon fill="#A80036" points="1300.5,5020.2168,1290.5,5024.2168,1300.5,5028.2168,1296.5,5024.2168" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1948.5" y1="5024.2168" y2="5024.2168"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1306.5" y="5011.8193">[067]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="1347.5" y="5004.1641">GET :4445/oauth2/auth/requests/login</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="1347.5" y="5019.4746">Query: login_challenge="BBB"</text><polygon fill="#A80036" points="1937.5,5064.8379,1947.5,5068.8379,1937.5,5072.8379,1941.5,5068.8379" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1289.5" x2="1943.5" y1="5068.8379" y2="5068.8379"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1296.5" y="5056.4404">[068]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1337.5" y="5048.7852">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="1337.5" y="5064.0957">{ login request }</text><polygon fill="#A80036" points="1630.5,5109.459,1620.5,5113.459,1630.5,5117.459,1626.5,5113.459" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1624.5" x2="1948.5" y1="5113.459" y2="5113.459"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1636.5" y="5101.0615">[069]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="1677.5" y="5093.4063">GET :4433/sessions/whoami</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="1677.5" y="5108.7168">Cookie: ory_kratos_session</text><polygon fill="#A80036" points="1937.5,5154.0801,1947.5,5158.0801,1937.5,5162.0801,1941.5,5158.0801" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1619.5" x2="1943.5" y1="5158.0801" y2="5158.0801"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1626.5" y="5145.6826">[070]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1667.5" y="5138.0273">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="1667.5" y="5153.3379">{ user identity }</text><path d="M1811,5171.0801 L1811,5196.0801 L2084,5196.0801 L2084,5181.0801 L2074,5171.0801 L1811,5171.0801 " fill="#FBFB77" filter="url(#fv8zfhtl9yvrr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2074,5171.0801 L2074,5181.0801 L2084,5181.0801 L2074,5171.0801 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="252" x="1817" y="5188.6484">Verifies that user has access to TENANT</text><polygon fill="#A80036" points="1300.5,5260.3223,1290.5,5264.3223,1300.5,5268.3223,1296.5,5264.3223" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1948.5" y1="5264.3223" y2="5264.3223"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1306.5" y="5244.2695">[071]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="298" x="1347.5" y="5228.959">PUT :4445/oauth2/auth/requests/login/accept</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="1347.5" y="5244.2695">Query: login_challenge="BBB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="319" x="1347.5" y="5259.5801">{ subject: UserID, context: { User, SelectedTenant }}</text><polygon fill="#A80036" points="1937.5,5304.9434,1947.5,5308.9434,1937.5,5312.9434,1941.5,5308.9434" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1289.5" x2="1943.5" y1="5308.9434" y2="5308.9434"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1296.5" y="5296.5459">[072]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1337.5" y="5288.8906">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="1341.5" y="5304.2012">{ redirect_to }</text><polygon fill="#A80036" points="667.5,5441.4277,657.5,5445.4277,667.5,5449.4277,663.5,5445.4277" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="1948.5" y1="5445.4277" y2="5445.4277"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="5387.0986">[073]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="5333.5117">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="714.5" y="5348.8223">Location: /.auth/oauth2/auth</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="714.5" y="5364.1328">Query: client_id="studio-browser"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="714.5" y="5379.4434">Query: login_verifier</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="538" x="714.5" y="5394.7539">Query: redirect_uri="https%3A%2F%2Fdolittle.studio%2F.auth%2Fcookies%2Fcallback"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="714.5" y="5410.0645">Query: response_type="code"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="714.5" y="5425.375">Query: scope="openid"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="714.5" y="5440.6855">Query: state="..."</text><polygon fill="#A80036" points="64.5,5577.9121,54.5,5581.9121,64.5,5585.9121,60.5,5581.9121" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="5581.9121" y2="5581.9121"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="5523.583">[074]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="5469.9961">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="111.5" y="5485.3066">Location: /.auth/oauth2/auth</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="111.5" y="5500.6172">Query: client_id="studio-browser"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="111.5" y="5515.9277">Query: login_verifier</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="538" x="111.5" y="5531.2383">Query: redirect_uri="https%3A%2F%2Fdolittle.studio%2F.auth%2Fcookies%2Fcallback"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="111.5" y="5546.5488">Query: response_type="code"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="111.5" y="5561.8594">Query: scope="openid"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="111.5" y="5577.1699">Query: state="..."</text><polygon fill="#A80036" points="644.5,5699.0859,654.5,5703.0859,644.5,5707.0859,648.5,5703.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="5703.0859" y2="5703.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="5652.4121">[075]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="101.5" y="5606.4805">GET /.auth/oauth2/auth</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="101.5" y="5621.791">Query: client_id="studio-browser"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="101.5" y="5637.1016">Query: login_verifier</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="538" x="101.5" y="5652.4121">Query: redirect_uri="https%3A%2F%2Fdolittle.studio%2F.auth%2Fcookies%2Fcallback"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="101.5" y="5667.7227">Query: response_type="code"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="101.5" y="5683.0332">Query: scope="openid"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="101.5" y="5698.3438">Query: state="..."</text><polygon fill="#A80036" points="1277.5,5820.2598,1287.5,5824.2598,1277.5,5828.2598,1281.5,5824.2598" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="1283.5" y1="5824.2598" y2="5824.2598"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="5773.5859">[076]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="704.5" y="5727.6543">GET :4444/oauth2/auth</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="704.5" y="5742.9648">Query: client_id="studio-browser"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="704.5" y="5758.2754">Query: login_verifier</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="538" x="704.5" y="5773.5859">Query: redirect_uri="https%3A%2F%2Fdolittle.studio%2F.auth%2Fcookies%2Fcallback"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="704.5" y="5788.8965">Query: response_type="code"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="704.5" y="5804.207">Query: scope="openid"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="704.5" y="5819.5176">Query: state="..."</text><polygon fill="#A80036" points="667.5,5880.1914,657.5,5884.1914,667.5,5888.1914,663.5,5884.1914" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="1288.5" y1="5884.1914" y2="5884.1914"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="5864.1387">[077]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="5848.8281">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="297" x="714.5" y="5864.1387">Location: /.auth/self-service/consent/browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="714.5" y="5879.4492">Query: consent_challenge="GGG"</text><polygon fill="#A80036" points="64.5,5940.123,54.5,5944.123,64.5,5948.123,60.5,5944.123" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="5944.123" y2="5944.123"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="5924.0703">[078]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="5908.7598">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="297" x="111.5" y="5924.0703">Location: /.auth/self-service/consent/browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="111.5" y="5939.3809">Query: consent_challenge="GGG"</text><polygon fill="#A80036" points="644.5,5984.7441,654.5,5988.7441,644.5,5992.7441,648.5,5988.7441" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="5988.7441" y2="5988.7441"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="5976.3467">[079]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="263" x="101.5" y="5968.6914">GET /.auth/self-service/consent/browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="101.5" y="5984.002">Query: consent_challenge="GGG"</text><polygon fill="#A80036" points="1937.5,6029.3652,1947.5,6033.3652,1937.5,6037.3652,1941.5,6033.3652" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="1943.5" y1="6033.3652" y2="6033.3652"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="6020.9678">[080]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="299" x="704.5" y="6013.3125">GET :8080/.auth/self-service/consent/browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="704.5" y="6028.623">Query: consent_challenge="GGG"</text><polygon fill="#A80036" points="1300.5,6073.9863,1290.5,6077.9863,1300.5,6081.9863,1296.5,6077.9863" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1948.5" y1="6077.9863" y2="6077.9863"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1306.5" y="6065.5889">[081]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="268" x="1347.5" y="6057.9336">GET :4445/oauth2/auth/requests/consent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="1347.5" y="6073.2441">Query: consent_challenge="GGG"</text><polygon fill="#A80036" points="1937.5,6118.6074,1947.5,6122.6074,1937.5,6126.6074,1941.5,6122.6074" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1289.5" x2="1943.5" y1="6122.6074" y2="6122.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1296.5" y="6110.21">[082]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1337.5" y="6102.5547">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="319" x="1337.5" y="6117.8652">{ subject: UserID, context: { User, SelectedTenant }}</text><path d="M1800,6135.6074 L1800,6160.6074 L2095,6160.6074 L2095,6145.6074 L2085,6135.6074 L1800,6135.6074 " fill="#FBFB77" filter="url(#fv8zfhtl9yvrr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2085,6135.6074 L2085,6145.6074 L2095,6145.6074 L2085,6135.6074 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="274" x="1806" y="6153.1758">Creates token claims from subject+context</text><polygon fill="#A80036" points="1300.5,6217.8496,1290.5,6221.8496,1300.5,6225.8496,1296.5,6221.8496" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1948.5" y1="6221.8496" y2="6221.8496"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1306.5" y="6201.7969">[083]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="316" x="1347.5" y="6186.4863">PUT :4445/oauth2/auth/requests/consent/accept</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="1347.5" y="6201.7969">Query: login_challenge="GGG"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="1347.5" y="6217.1074">{ idToken, accessToken }</text><polygon fill="#A80036" points="1937.5,6262.4707,1947.5,6266.4707,1937.5,6270.4707,1941.5,6266.4707" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1289.5" x2="1943.5" y1="6266.4707" y2="6266.4707"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1296.5" y="6254.0732">[084]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1337.5" y="6246.418">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="1341.5" y="6261.7285">{ redirect_to }</text><polygon fill="#A80036" points="667.5,6398.9551,657.5,6402.9551,667.5,6406.9551,663.5,6402.9551" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="1948.5" y1="6402.9551" y2="6402.9551"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="6344.626">[085]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="6291.0391">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="714.5" y="6306.3496">Location: /.auth/oauth2/auth</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="714.5" y="6321.6602">Query: client_id="studio-browser"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="714.5" y="6336.9707">Query: consent_verifier</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="538" x="714.5" y="6352.2813">Query: redirect_uri="https%3A%2F%2Fdolittle.studio%2F.auth%2Fcookies%2Fcallback"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="714.5" y="6367.5918">Query: response_type="code"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="714.5" y="6382.9023">Query: scope="openid"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="714.5" y="6398.2129">Query: state="..."</text><polygon fill="#A80036" points="64.5,6535.4395,54.5,6539.4395,64.5,6543.4395,60.5,6539.4395" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="6539.4395" y2="6539.4395"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="6481.1104">[086]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="6427.5234">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="111.5" y="6442.834">Location: /.auth/oauth2/auth</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="111.5" y="6458.1445">Query: client_id="studio-browser"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="111.5" y="6473.4551">Query: consent_verifier</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="538" x="111.5" y="6488.7656">Query: redirect_uri="https%3A%2F%2Fdolittle.studio%2F.auth%2Fcookies%2Fcallback"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="111.5" y="6504.0762">Query: response_type="code"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="111.5" y="6519.3867">Query: scope="openid"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="111.5" y="6534.6973">Query: state="..."</text><polygon fill="#A80036" points="644.5,6656.6133,654.5,6660.6133,644.5,6664.6133,648.5,6660.6133" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="6660.6133" y2="6660.6133"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="6609.9395">[087]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="101.5" y="6564.0078">GET /.auth/oauth2/auth</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="101.5" y="6579.3184">Query: client_id="studio-browser"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="101.5" y="6594.6289">Query: consent_verifier</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="538" x="101.5" y="6609.9395">Query: redirect_uri="https%3A%2F%2Fdolittle.studio%2F.auth%2Fcookies%2Fcallback"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="101.5" y="6625.25">Query: response_type="code"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="101.5" y="6640.5605">Query: scope="openid"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="101.5" y="6655.8711">Query: state="..."</text><polygon fill="#A80036" points="1277.5,6777.7871,1287.5,6781.7871,1277.5,6785.7871,1281.5,6781.7871" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="1283.5" y1="6781.7871" y2="6781.7871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="6731.1133">[088]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="704.5" y="6685.1816">GET :4444/oauth2/auth</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="704.5" y="6700.4922">Query: client_id="studio-browser"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="704.5" y="6715.8027">Query: consent_verifier</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="538" x="704.5" y="6731.1133">Query: redirect_uri="https%3A%2F%2Fdolittle.studio%2F.auth%2Fcookies%2Fcallback"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="704.5" y="6746.4238">Query: response_type="code"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="704.5" y="6761.7344">Query: scope="openid"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="704.5" y="6777.0449">Query: state="..."</text><polygon fill="#A80036" points="667.5,6868.3398,657.5,6872.3398,667.5,6876.3398,663.5,6872.3398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="1288.5" y1="6872.3398" y2="6872.3398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="6836.9766">[089]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="6806.3555">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="714.5" y="6821.666">Location: /.auth/cookies/callback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="714.5" y="6836.9766">Query: code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="714.5" y="6852.2871">Query: scope=""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="714.5" y="6867.5977">Query; state</text><polygon fill="#A80036" points="64.5,6958.8926,54.5,6962.8926,64.5,6966.8926,60.5,6962.8926" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="6962.8926" y2="6962.8926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="6927.5293">[090]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="6896.9082">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="111.5" y="6912.2188">Location: /.auth/cookies/callback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="111.5" y="6927.5293">Query: code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="111.5" y="6942.8398">Query: scope=""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="111.5" y="6958.1504">Query; state</text><polygon fill="#A80036" points="644.5,7034.1348,654.5,7038.1348,644.5,7042.1348,648.5,7038.1348" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="7038.1348" y2="7038.1348"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="7010.4268">[091]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="101.5" y="6987.4609">GET /.auth/cookies/callback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="101.5" y="7002.7715">Query: code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="101.5" y="7018.082">Query: scope=""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="101.5" y="7033.3926">Query; state</text><polygon fill="#A80036" points="1456.5,7109.377,1466.5,7113.377,1456.5,7117.377,1460.5,7113.377" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="1462.5" y1="7113.377" y2="7113.377"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="7085.6689">[092]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="704.5" y="7062.7031">GET /.auth/cookies/callback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="704.5" y="7078.0137">Query: code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="704.5" y="7093.3242">Query: scope=""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="704.5" y="7108.6348">Query; state</text><polygon fill="#A80036" points="1300.5,7138.6875,1290.5,7142.6875,1300.5,7146.6875,1296.5,7142.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1467.5" y1="7142.6875" y2="7142.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1306.5" y="7137.9453">[093]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="1347.5" y="7137.9453">GETS TOKEN??</text><polygon fill="#A80036" points="1456.5,7167.998,1466.5,7171.998,1456.5,7175.998,1460.5,7171.998" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1289.5" x2="1462.5" y1="7171.998" y2="7171.998"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="1296.5" y="7167.2559">[094]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="1337.5" y="7167.2559">RETURNS TOKEN??</text><path d="M1380,7184.998 L1380,7209.998 L1552,7209.998 L1552,7194.998 L1542,7184.998 L1380,7184.998 " fill="#FBFB77" filter="url(#fv8zfhtl9yvrr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1542,7184.998 L1542,7194.998 L1552,7194.998 L1542,7184.998 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="1386" y="7202.5664">Stores token in cookie??</text><polygon fill="#A80036" points="667.5,7282.5508,657.5,7286.5508,667.5,7290.5508,663.5,7286.5508" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="1467.5" y1="7286.5508" y2="7286.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="7258.8428">[095]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="7235.877">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="276" x="714.5" y="7251.1875">Location: https://dolittle.studio/selfservice</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="714.5" y="7266.498">Delete-Cookie: .dolittle.pascal.session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="714.5" y="7281.8086">Set-Cookie: .dolittle.pascal.login</text><polygon fill="#A80036" points="64.5,7357.793,54.5,7361.793,64.5,7365.793,60.5,7361.793" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="7361.793" y2="7361.793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="7334.085">[096]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="7311.1191">Status 302</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="276" x="111.5" y="7326.4297">Location: https://dolittle.studio/selfservice</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="111.5" y="7341.7402">Delete-Cookie: .dolittle.pascal.session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="111.5" y="7357.0508">Set-Cookie: .dolittle.pascal.login</text><rect fill="#EEEEEE" filter="url(#fv8zfhtl9yvrr)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="2131.5" x="3" y="7390.4482"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="2134.5" y1="7390.4482" y2="7390.4482"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="2134.5" y1="7393.4482" y2="7393.4482"/><rect fill="#EEEEEE" filter="url(#fv8zfhtl9yvrr)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="178" x="979.75" y="7379.793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="160" x="985.75" y="7396.3613">Login flow is completed</text><polygon fill="#A80036" points="644.5,7445.7246,654.5,7449.7246,644.5,7453.7246,648.5,7449.7246" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="650.5" y1="7449.7246" y2="7449.7246"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="60.5" y="7437.3271">[097]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="101.5" y="7429.6719">GET /path</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="101.5" y="7444.9824">Cookie: .dolittle.pascal.login</text><polygon fill="#A80036" points="908.5,7490.3457,918.5,7494.3457,908.5,7498.3457,912.5,7494.3457" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="914.5" y1="7494.3457" y2="7494.3457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="7481.9482">[098]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="704.5" y="7474.293">GET :80/decisions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="704.5" y="7489.6035">Cookie: .dolittle.pascal.login</text><polygon fill="#A80036" points="1277.5,7534.9668,1287.5,7538.9668,1277.5,7542.9668,1281.5,7538.9668" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="920.5" x2="1283.5" y1="7538.9668" y2="7538.9668"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="927.5" y="7526.5693">[099]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="968.5" y="7518.9141">POST :4445/oauth2/introspect</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="304" x="968.5" y="7534.2246">Form-Data: token=Cookie[.dolittle.pascal.login]</text><polygon fill="#A80036" points="931.5,7579.5879,921.5,7583.5879,931.5,7587.5879,927.5,7583.5879" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="925.5" x2="1288.5" y1="7583.5879" y2="7583.5879"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="937.5" y="7571.1904">[100]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="978.5" y="7563.5352">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="978.5" y="7578.8457">{ subject, extra: { tenant }}</text><polygon fill="#A80036" points="667.5,7639.5195,657.5,7643.5195,667.5,7647.5195,663.5,7643.5195" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="919.5" y1="7643.5195" y2="7643.5195"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="7623.4668">[101]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="7608.1563">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="714.5" y="7623.4668">User-ID: Token[Subject]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="714.5" y="7638.7773">Tenant-ID: Token[Extra.Tenant]</text><polygon fill="#A80036" points="2066.5,7699.4512,2076.5,7703.4512,2066.5,7707.4512,2070.5,7703.4512" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.5" x2="2072.5" y1="7703.4512" y2="7703.4512"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="663.5" y="7683.3984">[102]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="704.5" y="7668.0879">GET /path</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="704.5" y="7683.3984">User-ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="704.5" y="7698.709">Tenant-ID</text><polygon fill="#A80036" points="667.5,7744.0723,657.5,7748.0723,667.5,7752.0723,663.5,7748.0723" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="661.5" x2="2077.5" y1="7748.0723" y2="7748.0723"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="673.5" y="7735.6748">[103]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="714.5" y="7728.0195">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="714.5" y="7743.3301">&lt;html&gt;Studio&lt;/html&gt;</text><polygon fill="#A80036" points="64.5,7788.6934,54.5,7792.6934,64.5,7796.6934,60.5,7792.6934" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58.5" x2="655.5" y1="7792.6934" y2="7792.6934"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="70.5" y="7780.2959">[104]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="111.5" y="7772.6406">Status 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="111.5" y="7787.9512">&lt;html&gt;Studio&lt;/html&gt;</text><!--MD5=[d4aeadb8beac08f03c8caea2fb66728f]
@startuml "Login"

skinparam BackgroundColor #FEFEFE
skinparam Sequence {
    BoxBackgroundColor #DDDDDD
    BoxBorderColor White
}
skinparam BoxPadding 20
skinparam ParticipantPadding 20

actor Browser
box "Ingress"
    participant "NGINX" as Nginx
end box
box "Authenticator"
    participant Oathkeeper
end box
box "Browser"
    participant Hydra
    participant Pascal
end box
box "Users"
    participant Kratos
    participant Login
end box
participant Studio

autonumber "<b>[000]"

== User navigates to /path ==

Browser -> Nginx: GET /path
Nginx -> Oathkeeper: GET :80/decisions
Oathkeeper -> Hydra: POST :4445/oauth2/introspect
Oathkeeper <- - Hydra: Status 401
Nginx <- - Oathkeeper: Status 401
Browser <- - Nginx: Status 302\nLocation: /.auth/cookies/initiate\nQuery: rd="/path"
Browser -> Nginx: GET /.auth/cookies/initiate\nQuery: rd="/path"
Nginx -> Pascal: GET :8080/initiate\nQuery: rd="/path"
Nginx <- - Pascal: Status 302\nLocation: /.auth/oauth2/auth\nQuery: redirect_uri="/.auth/cookies/callback"\nQuery: client_id="studio-browser"\nQuery: response_type="code"\nQuery: scope="openid"\nQuery: state="AAA"\nSet-Cookie: .dolittle.pascal.session
Browser <- - Nginx: Status 302\nLocation: /.auth/oauth2/auth\nQuery: redirect_uri="/.auth/cookies/callback"\nQuery: client_id="studio-browser"\nQuery: response_type="code"\nQuery: scope="openid"\nQuery: state="AAA"\nSet-Cookie: .dolittle.pascal.session
Browser -> Nginx: GET /.auth/oauth2/auth\nQuery: redirect_uri="/.auth/cookies/callback"\nQuery: client_id="studio-browser"\nQuery: response_type="code"\nQuery: scope="openid"\nQuery: state="AAA"\nCookie: .dolittle.pascal.session
Nginx -> Hydra: GET :4444/oauth2/auth\nQuery: redirect_uri="/.auth/cookies/callback"\nQuery: client_id="studio-browser"\nQuery: response_type="code"\nQuery: scope="openid"\nQuery: state="AAA"\nCookie: .dolittle.pascal.session
Nginx <- - Hydra: Status 302\nLocation /.auth/self-service/tenant/browser\nQuery: login_challenge="BBB"\nSet-Cookie: oauth2_authentication_csrf_insecure
Browser <- - Nginx: Status 302\nLocation /.auth/self-service/tenant/browser\nQuery: login_challenge="BBB"\nSet-Cookie: oauth2_authentication_csrf_insecure
Browser -> Nginx: GET /.auth/self-service/tenant/browser\nQuery: login_challenge="BBB"\nCookie: .dolittle.pascal.session\nCookie: oauth2_authentication_csrf_insecure
Nginx -> Login: GET :8080/.auth/self-service/tenant/browser\nQuery: login_challenge="BBB"\nCookie: .dolittle.pascal.session\nCookie: oauth2_authentication_csrf_insecure
Hydra <- Login: GET :4445/oauth2/auth/requests/login\nQuery: login_challenge="BBB"
Hydra - -> Login: Status 200\n{ login request }
Kratos <- Login: GET :4433/sessions/whoami
Kratos - -> Login: Status 401
Nginx <- - Login: Status 302\nLocation: /.auth/self-service/login/browser\nQuery: return_to="/.auth/self-service/tenant/browser?login_challenge=BBB"
Browser <- - Nginx: Status 302\nLocation: /.auth/self-service/login/browser\nQuery: return_to="/.auth/self-service/tenant/browser?login_challenge=BBB"
Browser -> Nginx: GET /.auth/self-service/login/browser\nQuery: return_to="/.auth/self-service/tenant/browser?login_challenge=BBB"\nCookie: .dolittle.pascal.session\nCookie: oauth2_authentication_csrf_insecure
Nginx -> Kratos: GET :4433/self-service/login/browser\nQuery: return_to="/.auth/self-service/tenant/browser?login_challenge=BBB"\nCookie: .dolittle.pascal.session\nCookie: oauth2_authentication_csrf_insecure
Nginx <- - Kratos: Status 302\nLocation: /.auth/select-provider\nQuery: flow="CCC"\nSet-Cookie: csrf_token
Browser <- - Nginx: Status 302\nLocation: /.auth/select-provider\nQuery: flow="CCC"\nSet-Cookie: csrf_token
Browser -> Nginx: GET /.auth/select-provider\nQuery: flow="CCC"\nCookie: .dolittle.pascal.session\nCookie: oauth2_authentication_csrf_insecure\nCookie: csrf_token
Nginx -> Login: GET :8080/.auth/select-provider\nQuery: flow="CCC"\nCookie: .dolittle.pascal.session\nCookie: oauth2_authentication_csrf_insecure\nCookie: csrf_token
Nginx <- - Login: Status 200\n<html>Login Frontend</html>
Browser <- - Nginx: Status 200\n<html>Login Frontend</html>

== Select Identity Provider view is rendered ==

Browser -> Nginx: GET /.auth/self-service/login/flows\nQuery: id="CCC"\nCookie: .dolittle.pascal.session\nCookie: oauth2_authentication_csrf_insecure\nCookie: csrf_token
Nginx -> Login: GET :8080/.auth/self-service/login/flows\nQuery: id="CCC"\nCookie: .dolittle.pascal.session\nCookie: oauth2_authentication_csrf_insecure\nCookie: csrf_token
Kratos <- Login: GET :4433/.auth/self-service/login/flows\nQuery: id="CCC"
Kratos - -> Login: Status 200\n { login flow }
note over Login: Adds Name+Image to providers
Nginx <- - Login: Status 200\n { extended login flow }
Browser <- - Nginx: Status 200\n { extended login flow }

== User clicks an Identity Provider (PROVIDER) ==

Browser -> Nginx: POST /.auth/self-service/methods/oidc/auth/CCC\nForm-Data: csrf_token\nForm-Data: provider="PROVIDER"\nCookie: .dolittle.pascal.session\nCookie: oauth2_authentication_csrf_insecure\nCookie: csrf_token
Nginx -> Kratos: POST :4433/self-service/methods/oidc/auth/CCC\nForm-Data: csrf_token\nForm-Data: provider="PROVIDER"\nCookie: .dolittle.pascal.session\nCookie: oauth2_authentication_csrf_insecure\nCookie: csrf_token
Nginx <- - Kratos: Status 302\n Location: PROVIDER_SPECIFIC_URL
Browser <- - Nginx: Status 302\n Location: PROVIDER_SPECIFIC_URL

... User performs Identity Provider login ...

Browser -> Nginx: GET /.auth/self-service/methods/oidc/callback/PROVIDER\nQuery: code="DDD"\nQuery: state="EEE"\nQuery: session_state="FFF"\nCookie: oauth2_authentication_csrf_insecure\nCookie: ory_kratos_continuity\nCookie: csrf_token
Nginx -> Kratos: GET :4433/.auth/self-service/methods/oidc/callback/PROVIDER\nQuery: code="DDD"\nQuery: state="EEE"\nQuery: session_state="FFF"\nCookie: oauth2_authentication_csrf_insecure\nCookie: ory_kratos_continuity\nCookie: csrf_token
note over Kratos: Fetches identity from PROVIDER\nand creates user if first login
Nginx <- - Kratos: Status 302\nLocation: /.auth/self-service/tenant/browser\nQuery: login_challenge="BBB"\nSet-Cookie: ory_kratos_continuity\nSet-Cookie: ory_kratos_session\nSet-Cookie: csrf_token
Browser <- - Nginx: Status 302\nLocation: /.auth/self-service/tenant/browser\nQuery: login_challenge="BBB"\nSet-Cookie: ory_kratos_continuity\nSet-Cookie: ory_kratos_session\nSet-Cookie: csrf_token
Browser -> Nginx: GET /.auth/self-service/tenant/browser\nQuery: login_challenge="BBB"\nCookie: oauth2_authentication_csrf_insecure\nCookie: ory_kratos_continuity\nCookie: ory_kratos_session\nCookie: csrf_token
Nginx -> Login: GET :8080/.auth/self-service/tenant/browser\nQuery: login_challenge="BBB"\nCookie: oauth2_authentication_csrf_insecure\nCookie: ory_kratos_continuity\nCookie: ory_kratos_session\nCookie: csrf_token
Hydra <- Login: GET :4445/oauth2/auth/requests/login\nQuery: login_challenge="BBB"
Hydra - -> Login: Status 200\n{ login request }
Kratos <- Login: GET :4433/sessions/whoami\nCookie: ory_kratos_session
Kratos - -> Login: Status 200\n{ user identity }
alt If more than 1 tenant
Nginx <- - Login: Status 302\nLocation /.auth/select-tenant\nQuery: login_challenge="BBB"
Browser <- - Nginx: Status 302\nLocation /.auth/select-tenant\nQuery: login_challenge="BBB"
Browser -> Nginx: GET /.auth/select-tenant\nQuery: login_challenge="BBB"\nCookie: oauth2_authentication_csrf_insecure\nCookie: ory_kratos_continuity\nCookie: ory_kratos_session\nCookie: csrf_token
Nginx -> Login: GET :8080/.auth/select-tenant\nQuery: login_challenge="BBB"\nCookie: oauth2_authentication_csrf_insecure\nCookie: ory_kratos_continuity\nCookie: ory_kratos_session\nCookie: csrf_token
Nginx <- - Login: Status 200\n<html>Login Frontend</html>
Browser <- - Nginx: Status 200\n<html>Login Frontend</html>

== Select Tenant view is rendered ==

Browser -> Nginx: GET /.auth/self-service/tenant/flows\nQuery: login_challenge="BBB"\nCookie: oauth2_authentication_csrf_insecure\nCookie: ory_kratos_continuity\nCookie: ory_kratos_session\nCookie: csrf_token
Nginx -> Login: GET :8080/.auth/self-service/tenant/flows\nQuery: login_challenge="BBB"\nCookie: oauth2_authentication_csrf_insecure\nCookie: ory_kratos_continuity\nCookie: ory_kratos_session\nCookie: csrf_token
Hydra <- Login: GET :4445/oauth2/auth/requests/login\nQuery: login_challenge="BBB"
Hydra - -> Login: Status 200\n{ login request }
Kratos <- Login: GET :4433/sessions/whoami\nCookie: ory_kratos_session
Kratos - -> Login: Status 200\n{ user identity }
note over Login: Adds Name to tenants
Nginx <- - Login: Status 200\n { tenant flow }
Browser <- - Nginx: Status 200\n { tenant flow }

== User clicks a Tenant (TENANT) ==

Browser -> Nginx: POST /.auth/self-service/tenant/select\nForm-Data: login_challenge="BBB"\nForm-Data: tenant="TENANT"
Nginx -> Login: POST :8080/.auth/self-service/tenant/select\nForm-Data: login_challenge="BBB"\nForm-Data: tenant="TENANT"
Hydra <- Login: GET :4445/oauth2/auth/requests/login\nQuery: login_challenge="BBB"
Hydra - -> Login: Status 200\n{ login request }
Kratos <- Login: GET :4433/sessions/whoami\nCookie: ory_kratos_session
Kratos - -> Login: Status 200\n{ user identity }
note over Login: Verifies that user has access to TENANT
end
Hydra <- Login: PUT :4445/oauth2/auth/requests/login/accept\nQuery: login_challenge="BBB"\n{ subject: UserID, context: { User, SelectedTenant }}
Hydra - -> Login: Status 200\n { redirect_to }
Nginx <- - Login: Status 302\nLocation: /.auth/oauth2/auth\nQuery: client_id="studio-browser"\nQuery: login_verifier\nQuery: redirect_uri="https%3A%2F%2Fdolittle.studio%2F.auth%2Fcookies%2Fcallback"\nQuery: response_type="code"\nQuery: scope="openid"\nQuery: state="..."
Browser <- - Nginx: Status 302\nLocation: /.auth/oauth2/auth\nQuery: client_id="studio-browser"\nQuery: login_verifier\nQuery: redirect_uri="https%3A%2F%2Fdolittle.studio%2F.auth%2Fcookies%2Fcallback"\nQuery: response_type="code"\nQuery: scope="openid"\nQuery: state="..."
Browser -> Nginx: GET /.auth/oauth2/auth\nQuery: client_id="studio-browser"\nQuery: login_verifier\nQuery: redirect_uri="https%3A%2F%2Fdolittle.studio%2F.auth%2Fcookies%2Fcallback"\nQuery: response_type="code"\nQuery: scope="openid"\nQuery: state="..."
Nginx -> Hydra: GET :4444/oauth2/auth\nQuery: client_id="studio-browser"\nQuery: login_verifier\nQuery: redirect_uri="https%3A%2F%2Fdolittle.studio%2F.auth%2Fcookies%2Fcallback"\nQuery: response_type="code"\nQuery: scope="openid"\nQuery: state="..."
Nginx <- - Hydra: Status 302\nLocation: /.auth/self-service/consent/browser\nQuery: consent_challenge="GGG"
Browser <- - Nginx: Status 302\nLocation: /.auth/self-service/consent/browser\nQuery: consent_challenge="GGG"
Browser -> Nginx: GET /.auth/self-service/consent/browser\nQuery: consent_challenge="GGG"
Nginx -> Login: GET :8080/.auth/self-service/consent/browser\nQuery: consent_challenge="GGG"
Hydra <- Login: GET :4445/oauth2/auth/requests/consent\nQuery: consent_challenge="GGG"
Hydra - -> Login: Status 200\n{ subject: UserID, context: { User, SelectedTenant }}
note over Login: Creates token claims from subject+context
Hydra <- Login: PUT :4445/oauth2/auth/requests/consent/accept\nQuery: login_challenge="GGG"\n{ idToken, accessToken }
Hydra - -> Login: Status 200\n { redirect_to }
Nginx <- - Login: Status 302\nLocation: /.auth/oauth2/auth\nQuery: client_id="studio-browser"\nQuery: consent_verifier\nQuery: redirect_uri="https%3A%2F%2Fdolittle.studio%2F.auth%2Fcookies%2Fcallback"\nQuery: response_type="code"\nQuery: scope="openid"\nQuery: state="..."
Browser <- - Nginx: Status 302\nLocation: /.auth/oauth2/auth\nQuery: client_id="studio-browser"\nQuery: consent_verifier\nQuery: redirect_uri="https%3A%2F%2Fdolittle.studio%2F.auth%2Fcookies%2Fcallback"\nQuery: response_type="code"\nQuery: scope="openid"\nQuery: state="..."
Browser -> Nginx: GET /.auth/oauth2/auth\nQuery: client_id="studio-browser"\nQuery: consent_verifier\nQuery: redirect_uri="https%3A%2F%2Fdolittle.studio%2F.auth%2Fcookies%2Fcallback"\nQuery: response_type="code"\nQuery: scope="openid"\nQuery: state="..."
Nginx -> Hydra: GET :4444/oauth2/auth\nQuery: client_id="studio-browser"\nQuery: consent_verifier\nQuery: redirect_uri="https%3A%2F%2Fdolittle.studio%2F.auth%2Fcookies%2Fcallback"\nQuery: response_type="code"\nQuery: scope="openid"\nQuery: state="..."
Nginx <- - Hydra: Status 302\nLocation: /.auth/cookies/callback\nQuery: code\nQuery: scope=""\nQuery; state
Browser <- - Nginx: Status 302\nLocation: /.auth/cookies/callback\nQuery: code\nQuery: scope=""\nQuery; state
Browser -> Nginx: GET /.auth/cookies/callback\nQuery: code\nQuery: scope=""\nQuery; state
Nginx -> Pascal: GET /.auth/cookies/callback\nQuery: code\nQuery: scope=""\nQuery; state
Hydra <- Pascal: GETS TOKEN??
Hydra - -> Pascal: RETURNS TOKEN??
note over Pascal: Stores token in cookie??
Nginx <- - Pascal: Status 302\nLocation: https://dolittle.studio/selfservice\nDelete-Cookie: .dolittle.pascal.session\nSet-Cookie: .dolittle.pascal.login
Browser <- - Nginx: Status 302\nLocation: https://dolittle.studio/selfservice\nDelete-Cookie: .dolittle.pascal.session\nSet-Cookie: .dolittle.pascal.login

== Login flow is completed ==

Browser -> Nginx: GET /path\nCookie: .dolittle.pascal.login
Nginx -> Oathkeeper: GET :80/decisions\nCookie: .dolittle.pascal.login
Oathkeeper -> Hydra: POST :4445/oauth2/introspect\nForm-Data: token=Cookie[.dolittle.pascal.login]
Oathkeeper <- - Hydra: Status 200\n{ subject, extra: { tenant }}
Nginx <- - Oathkeeper: Status 200\nUser-ID: Token[Subject]\nTenant-ID: Token[Extra.Tenant]
Nginx -> Studio: GET /path\nUser-ID\nTenant-ID
Nginx <- - Studio: Status 200\n<html>Studio</html>
Browser <- - Nginx: Status 200\n<html>Studio</html>

@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 12.0.1+12
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: NO
--></g></svg>